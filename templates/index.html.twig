{% extends 'base.html.twig' %}

{% block title %}Language Detection Form{% endblock %}

{% block body %}
    <style>
        .form-container {
            background-color: #acafc9;
            padding: 30px;
            border-radius: 8px;
            max-width: 800px;
            margin: 0 auto;
        }

        .form-wrapper {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>

    <div class="form-container">
        <div class="form-wrapper">
            <h1>{{ prompt }}</h1>

            <form action="{{ path('get_language') }}" method="get">
                <label for="languageInput">Text:</label><br>

                <div style="position: relative; display: inline-block;">
            <textarea id="languageInput" name="get_language" maxlength="1000" rows="5" cols="60"
                      oninput="updateCharCount()" required
                      style="padding-bottom: 24px;"></textarea>
                    <div id="charCount"
                         style="position: absolute; bottom: 4px; right: 8px; font-size: 12px; color: gray;">
                        1000
                    </div>
                </div>

                <br><button type="submit">Submit</button>
            </form>

            <script>
                function updateCharCount() {
                    const textarea = document.getElementById('languageInput');
                    const countDisplay = document.getElementById('charCount');
                    const maxLength = 1000;
                    const currentLength = textarea.value.length;
                    const remaining = maxLength - currentLength;
                    countDisplay.textContent = remaining;
                }
            </script>
        </div>
    </div>
{% endblock %}