{% extends 'base.html.twig' %}

{% block title %}Language Detection Form{% endblock %}

{% block body %}
    <h1>{{ prompt }}</h1>

    <form action="{{ path('get_language') }}" method="get">
        <label for="languageInput">Text:</label>
        <textarea id="languageInput" name="get_language" maxlength="1000" rows="5" cols="60" oninput="updateCharCount()" required></textarea>
        <p id="charCount">1000</p>
        <button type="submit">Submit</button>
    </form>

    <script>
        function updateCharCount() {
            const textarea = document.getElementById('languageInput');
            const countDisplay = document.getElementById('charCount');
            const maxLength = 1000;
            const currentLength = textarea.value.length;
            const remaining = maxLength - currentLength;
            countDisplay.textContent = remaining;
        }
    </script>
{% endblock %}